# Evolution of Todo

**An AI-Native Task Management System built with Spec-Driven Development**

[![Python 3.13+](https://img.shields.io/badge/python-3.13%2B-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Development: Spec-Driven](https://img.shields.io/badge/Development-Spec--Driven-green.svg)](./SPECIFICATION.md)

---

## ğŸ¯ Project Overview

Evolution of Todo is a progressive task management application that evolves through five phases, each building upon the previous one. The unique aspect of this project is that **all code is generated by Claude Code** following strict **Spec-Driven Development (SDD)** principlesâ€”no manual coding allowed!

### Development Philosophy

1. **Specifications First** - All features defined in detailed specs before code generation
2. **AI-Generated Code** - Claude Code generates 100% of implementation code
3. **Iterative Refinement** - Specs refined until code generation produces correct output
4. **Constitution-Driven** - All decisions guided by project constitution

---

## ğŸ“‹ Project Phases

| Phase | Status | Description |
|-------|--------|-------------|
| Phase I | âœ… Complete | Console application with in-memory storage |
| **Phase II** | **âœ… Complete** | **Full-stack web app with authentication** |
| Phase III | ğŸ”„ Planned | AI chatbot with MCP tools |
| Phase IV | ğŸ”„ Planned | Kubernetes deployment |
| Phase V | ğŸ”„ Planned | Cloud production with Kafka & Dapr |

---

### âœ… Phase I: Console Application (COMPLETED)

**Status**: Implemented and tested

A simple Python console application for in-memory task management.

**Features**:
- âœ… Add tasks with title and description
- âœ… View all tasks with completion status
- âœ… Update task details
- âœ… Delete tasks with confirmation
- âœ… Toggle task completion

**Tech Stack**: Python 3.13+, no external dependencies

ğŸ“‚ **Location**: `todo-app/src/phase-1/`
ğŸ“– **Documentation**: [Phase I README](todo-app/src/phase-1/README.md)
ğŸ“ **Specification**: [Phase I Spec](todo-app/specs/phase-1/spec.md)

**Quick Start**:
```bash
cd todo-app/src/phase-1
python main.py
```

---

### âœ… Phase II: Full-Stack Web Application (IMPLEMENTED)

**Status**: Implemented with backend and frontend

Transform the console app into a multi-user web application with RESTful API and responsive UI.

**Features**:
- âœ… User authentication (JWT-based)
- âœ… RESTful API (FastAPI with async/await)
- âœ… Responsive web UI (Next.js 16+ App Router)
- âœ… PostgreSQL persistence with migrations (Alembic)
- âœ… All Phase I features via web interface
- âœ… Task priorities, categories, and due dates

**Tech Stack**: Next.js 16+, FastAPI, PostgreSQL, SQLModel, Alembic

ğŸ“‚ **Location**:
- Backend: `backend/`
- Frontend: `frontend/`
ğŸ“– **Specification**: [Phase II Spec](SPECIFICATION.md#phase-ii-full-stack-web-application-specification)

**Quick Start**:

Backend:
```bash
cd backend
# Set up environment variables (copy .env.example to .env)
uv sync
uv run alembic upgrade head
uv run uvicorn src.main:app --reload
```

Frontend:
```bash
cd frontend
npm install
npm run dev
```

**API Documentation**:
- API runs on `http://localhost:8000`
- Interactive API docs: `http://localhost:8000/docs`
- OpenAPI schema: `http://localhost:8000/openapi.json`

**Database Migrations**:
```bash
# Create a new migration after model changes
uv run alembic revision --autogenerate -m "description"

# Apply migrations
uv run alembic upgrade head

# Rollback last migration
uv run alembic downgrade -1
```

**Key Features**:
- **Authentication**: JWT-based auth with secure password hashing
- **Task Management**: Full CRUD operations with user isolation
- **Data Persistence**: PostgreSQL with automatic timestamps
- **API Standards**: RESTful endpoints with proper HTTP status codes
- **Error Handling**: Standardized error responses
- **Type Safety**: Full TypeScript on frontend, Python type hints on backend

**Database Schema**:
- `users` table: User accounts with email and hashed passwords
- `tasks` table: Tasks with title, description, completion status, priority, category, and due dates
- Automatic migrations via Alembic

---

### ğŸ¤– Phase III: AI Chatbot (PLANNED)

Add conversational interface for natural language task management.

**Features**:
- Natural language task management
- OpenAI Agents SDK with MCP tools
- Stateless architecture (database-backed)
- Persistent conversation history
- All Phase II features via chat

**Tech Stack**: OpenAI ChatKit, OpenAI Agents SDK, MCP Server (Python)

---

### â˜¸ï¸ Phase IV: Local Kubernetes Deployment (PLANNED)

Containerize and deploy to local Kubernetes cluster.

**Features**:
- Docker containerization with health checks
- Helm chart deployment
- Minikube cluster setup
- AI-assisted operations (kubectl-ai, kagent)

**Tech Stack**: Docker, Minikube, Helm 3+, kubectl-ai

---

### ğŸš€ Phase V: Advanced Cloud Deployment (PLANNED)

Production-grade cloud deployment with advanced features.

**Features**:
- Event-driven architecture (Kafka)
- Dapr runtime (Pub/Sub, State, Jobs, Secrets)
- Recurring tasks, due dates, reminders
- Priorities, tags, search, and filtering
- CI/CD pipeline (GitHub Actions)

**Tech Stack**: DOKS/GKE/AKS, Kafka, Dapr, GitHub Actions

---

## ğŸ—ï¸ Project Structure

### Monorepo Architecture (Phase II+)

Starting Phase II, the project uses a **monorepo structure** with separate frontend, backend, and infrastructure directories:

```
hackathon-2-TODO-App/
â”œâ”€â”€ SPECIFICATION.md           # Complete feature specification (all phases)
â”œâ”€â”€ README.md                  # This file
â”œâ”€â”€ frontend/                  # Next.js 16+ frontend (Phase II+)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/              # App Router pages
â”‚   â”‚   â”œâ”€â”€ components/       # React components
â”‚   â”‚   â”œâ”€â”€ lib/              # API client, utilities
â”‚   â”‚   â””â”€â”€ types/            # TypeScript types
â”‚   â”œâ”€â”€ .env.example          # Environment template
â”‚   â”œâ”€â”€ CLAUDE.md             # Frontend-specific guidelines
â”‚   â””â”€â”€ package.json          # Dependencies
â”œâ”€â”€ backend/                   # FastAPI backend (Phase II+)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.py           # FastAPI app
â”‚   â”‚   â”œâ”€â”€ models.py         # SQLModel models
â”‚   â”‚   â”œâ”€â”€ routes/           # API endpoints
â”‚   â”‚   â”œâ”€â”€ middleware/       # Auth, errors
â”‚   â”‚   â””â”€â”€ services/         # Business logic
â”‚   â”œâ”€â”€ alembic/              # Database migrations
â”‚   â”œâ”€â”€ .env.example          # Environment template
â”‚   â”œâ”€â”€ CLAUDE.md             # Backend-specific guidelines
â”‚   â””â”€â”€ pyproject.toml        # Dependencies (UV)
â”œâ”€â”€ infrastructure/            # Docker, Kubernetes configs (Phase IV+)
â”‚   â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ helm/
â”‚   â””â”€â”€ k8s/
â””â”€â”€ todo-app/                  # Phase I + Specifications
    â”œâ”€â”€ .specify/              # Spec-Kit Plus framework
    â”‚   â”œâ”€â”€ memory/
    â”‚   â”‚   â””â”€â”€ constitution.md  # Project constitution
    â”‚   â”œâ”€â”€ templates/         # Spec/PHR templates
    â”‚   â””â”€â”€ scripts/           # Helper scripts
    â”œâ”€â”€ specs/                 # All specifications
    â”‚   â”œâ”€â”€ phase-1/          # Phase I specs
    â”‚   â”œâ”€â”€ database/         # Database schema
    â”‚   â”œâ”€â”€ api/              # API specifications
    â”‚   â”œâ”€â”€ technical/        # Technical standards
    â”‚   â”œâ”€â”€ TASKS.md          # Task breakdown
    â”‚   â””â”€â”€ TECHNICAL-PLAN.md # Architecture plan
    â”œâ”€â”€ src/phase-1/          # Phase I console app
    â”œâ”€â”€ history/              # Development history
    â”‚   â””â”€â”€ prompts/          # Prompt History Records
    â””â”€â”€ CLAUDE.md             # Root guidelines
```

### Why Monorepo?

- **Shared Context**: Claude Code can see full project structure
- **Atomic Changes**: Frontend/backend changes in single commit
- **Consistent Standards**: Shared specs and constitution
- **Simplified Deployment**: Single repository, multiple services

---

## ğŸš€ Getting Started

### Prerequisites

**Phase I (Console App)**:
- Python 3.13+
- No additional dependencies

**Phase II (Web Application)**:
- **Python 3.13+** with **UV** package manager
- **Node.js 20+** and **npm**
- **PostgreSQL database** (Neon, local, or any PostgreSQL provider)
- **Git** (version control)

### Installation

#### Phase I: Console Application

```bash
cd todo-app/src/phase-1
python main.py
```

#### Phase II: Web Application

**1. Clone the repository**:
```bash
git clone https://github.com/yourusername/hackathon-2-TODO-App.git
cd hackathon-2-TODO-App
```

**2. Set up Environment Variables**:

Copy the environment template to the root directory:
```bash
cp .env.example .env.local
```

Edit `.env.local` and configure the following required variables:
- `DATABASE_URL`: PostgreSQL connection string
- `BETTER_AUTH_SECRET`: Secret key for JWT (generate with `openssl rand -hex 32`)
- `NEXT_PUBLIC_API_URL`: Backend API URL (default: `http://localhost:8000`)

See `.env.example` for all configuration options.

**3. Set up Backend**:
```bash
cd backend

# Install dependencies
uv sync

# Run database migrations
uv run alembic upgrade head

# Start backend server
uv run uvicorn src.main:app --reload
```

Backend will run on `http://localhost:8000`

**4. Set up Frontend** (in a new terminal):
```bash
cd frontend

# Install dependencies
npm install

# Start development server
npm run dev
```

Frontend will run on `http://localhost:3000`

**5. Access the application**:
- Open `http://localhost:3000` in your browser
- Register a new account
- Start managing your tasks!

---

## ğŸ“– Documentation

| Document | Description |
|----------|-------------|
| [SPECIFICATION.md](SPECIFICATION.md) | Complete feature specification for all phases |
| [STATUS.md](STATUS.md) | Project status and progress tracking |
| [CLARIFICATIONS.md](CLARIFICATIONS.md) | Specification clarifications and decisions |
| [CONSTITUTION.md](todo-app/.specify/memory/constitution.md) | Project principles and development standards |
| [Backend CLAUDE.md](backend/CLAUDE.md) | Backend implementation guidelines |
| [Frontend CLAUDE.md](frontend/CLAUDE.md) | Frontend implementation guidelines |
| [Phase I README](todo-app/src/phase-1/README.md) | Phase I console app usage |
| [.env.example](.env.example) | Environment variables template |

---

## ğŸ“ Development Principles

This project follows **Spec-Driven Development (SDD)** with strict guardrails:

### Core Principles

1. **Spec-First Development**
   - No code written without corresponding specification
   - Features progress: Specify â†’ Plan â†’ Tasks â†’ Implement
   - Specifications are single source of truth

2. **AI-Native Engineering**
   - Claude Code generates all implementation code
   - Manual coding explicitly prohibited
   - Specs refined until AI produces correct output

3. **Stateless Architecture**
   - All services horizontally scalable
   - State persists only in database
   - Server restarts don't lose data

4. **Security-First Design**
   - JWT authentication on all endpoints
   - User isolation at database level
   - Zero trust architecture

5. **Event-Driven Decoupling**
   - Services communicate via events (Kafka)
   - Producers don't know consumers
   - New features = new consumers

See [CONSTITUTION.md](todo-app/.specify/memory/constitution.md) for complete principles.

---

## ğŸ›ï¸ Architecture (Phase II)

### Backend Architecture

```
Backend (FastAPI)
â”œâ”€â”€ src/main.py           # Application entry point
â”œâ”€â”€ src/models.py         # SQLModel database models
â”œâ”€â”€ src/db.py             # Database connection & session management
â”œâ”€â”€ src/routes/
â”‚   â”œâ”€â”€ auth.py          # Authentication endpoints
â”‚   â””â”€â”€ tasks.py         # Task CRUD endpoints
â”œâ”€â”€ src/middleware/
â”‚   â””â”€â”€ auth.py          # JWT authentication middleware
â””â”€â”€ src/utils/
    â””â”€â”€ auth_utils.py    # Password hashing & verification
```

**Key Components**:
- **FastAPI**: Async web framework with automatic OpenAPI documentation
- **SQLModel**: Type-safe ORM combining SQLAlchemy and Pydantic
- **Alembic**: Database migration management
- **JWT**: Stateless authentication with Bearer tokens
- **Async/Await**: All database operations are asynchronous
- **User Isolation**: All queries automatically filter by user_id

### Frontend Architecture

```
Frontend (Next.js 16)
â”œâ”€â”€ src/app/              # App Router pages
â”‚   â”œâ”€â”€ page.tsx         # Home/landing page
â”‚   â”œâ”€â”€ login/page.tsx   # Login page
â”‚   â”œâ”€â”€ register/page.tsx # Registration page
â”‚   â””â”€â”€ dashboard/page.tsx # Main dashboard
â”œâ”€â”€ src/components/       # React components
â”‚   â”œâ”€â”€ TaskList.tsx
â”‚   â”œâ”€â”€ TaskItem.tsx
â”‚   â””â”€â”€ AddTaskForm.tsx
â”œâ”€â”€ src/lib/
â”‚   â”œâ”€â”€ api.ts           # Axios API client
â”‚   â””â”€â”€ auth.ts          # Authentication utilities
â””â”€â”€ src/types/
    â””â”€â”€ task.ts          # TypeScript type definitions
```

**Key Components**:
- **Next.js 16 App Router**: File-based routing with server components
- **TypeScript**: Full type safety across the frontend
- **Tailwind CSS**: Utility-first styling with responsive design
- **Axios**: HTTP client with interceptors for authentication
- **React Server Components**: Performance optimization by default
- **Client Components**: Interactive elements with 'use client' directive

### API Endpoints

**Authentication**:
- `POST /api/v1/auth/register` - Create new user account
- `POST /api/v1/auth/login` - Login and receive JWT token

**Tasks** (all require JWT authentication):
- `GET /api/v1/{user_id}/tasks` - List all user's tasks
- `POST /api/v1/{user_id}/tasks` - Create new task
- `GET /api/v1/{user_id}/tasks/{id}` - Get specific task
- `PUT /api/v1/{user_id}/tasks/{id}` - Update task
- `DELETE /api/v1/{user_id}/tasks/{id}` - Delete task
- `PATCH /api/v1/{user_id}/tasks/{id}/complete` - Toggle completion status

All endpoints return standardized JSON responses with proper HTTP status codes.

---

## ğŸ§ª Testing

### Phase I Manual Testing

Run through the test checklist in [Phase I Spec](todo-app/specs/phase-1/spec.md#testing-checklist):

```bash
cd todo-app/src/phase-1
python main.py
```

Test scenarios:
- âœ… Add task with title only
- âœ… Add task with title and description
- âœ… View empty/populated task list
- âœ… Update task title/description
- âœ… Delete task with confirmation
- âœ… Toggle task completion
- âœ… Validation (empty title, length limits)
- âœ… Error handling (invalid IDs)

### Phase II Testing

**Backend API Testing**:

Access the interactive API documentation at `http://localhost:8000/docs`

Test the following flows:
1. **Authentication**:
   - Register a new user
   - Login with correct credentials
   - Login with incorrect credentials (should fail)
   - Access protected endpoint without token (should fail)

2. **Task CRUD Operations**:
   - Create task with valid data
   - Create task with invalid data (should fail validation)
   - List all tasks for authenticated user
   - Update existing task
   - Delete task
   - Try accessing another user's tasks (should fail)

3. **Database Persistence**:
   - Create tasks, restart backend, verify tasks persist
   - Test database migrations: `uv run alembic upgrade head`

**Frontend Testing**:

Manual testing checklist:
- âœ… User registration with valid email and password
- âœ… User login and logout
- âœ… Create new task via web UI
- âœ… View task list with real-time updates
- âœ… Edit task inline
- âœ… Delete task with confirmation
- âœ… Toggle task completion
- âœ… Responsive design on mobile (320px+), tablet (768px+), desktop (1024px+)
- âœ… Form validation with error messages
- âœ… Loading states during API calls
- âœ… Error handling with user-friendly messages

**Security Testing**:
- âœ… JWT token stored securely in localStorage
- âœ… Protected routes redirect to login
- âœ… User isolation (can't access other users' tasks)
- âœ… Password hashing (not stored in plain text)
- âœ… CORS configured properly

---

## ğŸ“Š Success Criteria

### Phase I Success âœ…

- [x] Console app runs without errors
- [x] All 5 basic features functional
- [x] Spec files document all features
- [x] Claude Code generated all code
- [x] Type hints on all functions
- [x] No external dependencies

### Phase II Success âœ…

- [x] Backend API implemented with FastAPI
- [x] Frontend UI implemented with Next.js 16+ App Router
- [x] User authentication with JWT tokens
- [x] PostgreSQL database with migrations
- [x] All Phase I features available via web interface
- [x] Task priorities, categories, and due dates
- [x] Responsive design for mobile and desktop
- [x] RESTful API with proper error handling

### Future Phases

See [SPECIFICATION.md](SPECIFICATION.md#success-metrics) for complete success criteria.

---

## ğŸ› ï¸ Technology Stack

### Phase I (Console App) âœ…
- **Language**: Python 3.13+
- **Storage**: In-memory (dictionaries)
- **Package Manager**: UV
- **Development**: Claude Code + Spec-Kit Plus

### Phase II (Web Application) âœ…
- **Frontend**: Next.js 16+ (App Router), TypeScript, Tailwind CSS
- **Backend**: FastAPI (async/await), Python 3.13+
- **Database**: PostgreSQL with SQLModel ORM
- **Migrations**: Alembic
- **Auth**: JWT-based authentication
- **API**: RESTful with OpenAPI documentation
- **Development**: Claude Code + Spec-Driven Development

### Phase III-V (Planned)
- **AI**: OpenAI Agents SDK, MCP Server
- **Infrastructure**: Docker, Kubernetes, Helm
- **Runtime**: Dapr
- **Events**: Kafka (Redpanda/Strimzi)
- **CI/CD**: GitHub Actions

---

## ğŸ“ License

MIT License - see [LICENSE](LICENSE) file for details.

---

## ğŸ™ Acknowledgments

- **Spec-Kit Plus** - Spec-Driven Development framework
- **Claude Code** - AI-native code generation
- **Anthropic** - Claude AI models
- **Python Community** - Type hints and async/await patterns

---

## ğŸ“§ Contact

**Project**: Evolution of Todo
**Method**: Spec-Driven Development
**AI Partner**: Claude Code

For questions or feedback, please open an issue on GitHub.

---

**Generated by**: Claude Code + Spec-Driven Development
**Last Updated**: 2026-01-02
**Version**: Phase II Complete
**Current Status**: Full-stack web application with authentication
